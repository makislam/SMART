<?xml version="1.0"?>
<robot name="mycobot_320_pi">
  
  <!-- 
    myCobot 320 Pi - Baby Elephant Cooperative Robotic Arm
    Frame Configuration based on "4 Joint connecting rod parameter specifications"
    
    Specifications:
    - Working Radius: 350mm
    - Payload: 1kg
    - Positioning Precision: ±0.5mm
    - Weight: 3.3kg
    - DOF: 6
    
    DH Parameters from diagram:
    - d1 = 173.9mm (F0 to F1 along z0)
    - a2 = 135mm (F1 to F2 along x2)
    - a3 = 120mm (F2 to F3 along x3)
    - d4 = 88.78mm (F3 to F4 along z4)
    - d5 = 95mm (F4 to F5 along z5)
    - d6 = 65.50mm (F5 to F6 along z6)
    
    Frame Convention:
    - F0: Base frame (x0, y0, z0)
    - F1: After J1 rotation (z-axis)
    - F2: After J2 rotation (y-axis)
    - F3: After J3 rotation (y-axis)
    - F4: After J4 rotation (z-axis)
    - F5: After J5 rotation (y-axis)
    - F6: End-effector frame (z-axis)
  -->
  
  <!-- Base Link - F0 (d1 = 173.9mm height) -->
  <link name="base_link">
    <visual>
      <geometry>
        <cylinder length="0.1739" radius="0.075"/>
      </geometry>
      <origin xyz="0 0 0.08695" rpy="0 0 0"/>
      <material name="gray">
        <color rgba="0.7 0.7 0.7 1"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.1739" radius="0.075"/>
      </geometry>
      <origin xyz="0 0 0.08695" rpy="0 0 0"/>
    </collision>
    <inertial>
      <mass value="1.0"/>
      <origin xyz="0 0 0.08695" rpy="0 0 0"/>
      <inertia ixx="0.012" ixy="0" ixz="0" iyy="0.012" iyz="0" izz="0.008"/>
    </inertial>
  </link>

  <!-- Link 1 - F1 (a2 = 135mm) -->
  <link name="link1">
    <visual>
      <geometry>
        <cylinder length="0.135" radius="0.045"/>
      </geometry>
      <origin xyz="0 0 0.0675" rpy="0 0 0"/>
      <material name="white">
        <color rgba="0.95 0.95 0.95 1"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.135" radius="0.045"/>
      </geometry>
      <origin xyz="0 0 0.0675" rpy="0 0 0"/>
    </collision>
    <inertial>
      <mass value="0.7"/>
      <origin xyz="0 0 0.0675" rpy="0 0 0"/>
      <inertia ixx="0.009" ixy="0" ixz="0" iyy="0.009" iyz="0" izz="0.005"/>
    </inertial>
  </link>

  <!-- Joint 1: F0 to F1 (Revolute, z0-axis rotation) -->
  <joint name="joint1" type="revolute">
    <parent link="base_link"/>
    <child link="link1"/>
    <origin xyz="0 0 0.1739" rpy="0 0 0"/>
    <axis xyz="0 0 1"/>
    <limit lower="-2.879" upper="2.879" effort="100" velocity="3.14"/>
    <!-- J1: -165° to +165° = -2.879 to +2.879 radians -->
  </joint>

  <!-- Link 2 - F2 (a3 = 120mm) -->
  <link name="link2">
    <visual>
      <geometry>
        <cylinder length="0.120" radius="0.042"/>
      </geometry>
      <origin xyz="0 0 0.060" rpy="0 0 0"/>
      <material name="light_blue">
        <color rgba="0.85 0.90 0.95 1"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.120" radius="0.042"/>
      </geometry>
      <origin xyz="0 0 0.060" rpy="0 0 0"/>
    </collision>
    <inertial>
      <mass value="0.6"/>
      <origin xyz="0 0 0.060" rpy="0 0 0"/>
      <inertia ixx="0.007" ixy="0" ixz="0" iyy="0.007" iyz="0" izz="0.004"/>
    </inertial>
  </link>

  <!-- Joint 2: F1 to F2 (Revolute, y1-axis rotation) -->
  <joint name="joint2" type="revolute">
    <parent link="link1"/>
    <child link="link2"/>
    <origin xyz="0 0 0.135" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
    <limit lower="-2.879" upper="2.879" effort="100" velocity="3.14"/>
    <!-- J2: -165° to +165° = -2.879 to +2.879 radians -->
  </joint>

  <!-- Link 3 - F3 (connects to F4 via d4) -->
  <link name="link3">
    <visual>
      <geometry>
        <cylinder length="0.020" radius="0.038"/>
      </geometry>
      <origin xyz="0 0 0.010" rpy="0 0 0"/>
      <material name="white">
        <color rgba="0.95 0.95 0.95 1"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.020" radius="0.038"/>
      </geometry>
      <origin xyz="0 0 0.010" rpy="0 0 0"/>
    </collision>
    <inertial>
      <mass value="0.5"/>
      <origin xyz="0 0 0.010" rpy="0 0 0"/>
      <inertia ixx="0.006" ixy="0" ixz="0" iyy="0.006" iyz="0" izz="0.003"/>
    </inertial>
  </link>

  <!-- Joint 3: F2 to F3 (Revolute, y2-axis rotation) -->
  <joint name="joint3" type="revolute">
    <parent link="link2"/>
    <child link="link3"/>
    <origin xyz="0 0 0.120" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
    <limit lower="-2.879" upper="2.879" effort="100" velocity="3.14"/>
    <!-- J3: -165° to +165° = -2.879 to +2.879 radians -->
  </joint>

  <!-- Link 4 - F4 (d4 = 88.78mm) -->
  <link name="link4">
    <visual>
      <geometry>
        <cylinder length="0.08878" radius="0.032"/>
      </geometry>
      <origin xyz="0 0 0.04439" rpy="0 0 0"/>
      <material name="light_blue">
        <color rgba="0.85 0.90 0.95 1"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.08878" radius="0.032"/>
      </geometry>
      <origin xyz="0 0 0.04439" rpy="0 0 0"/>
    </collision>
    <inertial>
      <mass value="0.3"/>
      <origin xyz="0 0 0.04439" rpy="0 0 0"/>
      <inertia ixx="0.003" ixy="0" ixz="0" iyy="0.003" iyz="0" izz="0.002"/>
    </inertial>
  </link>

  <!-- Joint 4: F3 to F4 (Revolute, z3-axis rotation) -->
  <joint name="joint4" type="revolute">
    <parent link="link3"/>
    <child link="link4"/>
    <origin xyz="0 0 0.020" rpy="0 0 0"/>
    <axis xyz="0 0 1"/>
    <limit lower="-2.879" upper="2.879" effort="50" velocity="3.14"/>
    <!-- J4: -165° to +165° = -2.879 to +2.879 radians -->
  </joint>

  <!-- Link 5 - F5 (d5 = 95mm) -->
  <link name="link5">
    <visual>
      <geometry>
        <cylinder length="0.095" radius="0.028"/>
      </geometry>
      <origin xyz="0 0 0.0475" rpy="0 0 0"/>
      <material name="white">
        <color rgba="0.95 0.95 0.95 1"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.095" radius="0.028"/>
      </geometry>
      <origin xyz="0 0 0.0475" rpy="0 0 0"/>
    </collision>
    <inertial>
      <mass value="0.2"/>
      <origin xyz="0 0 0.0475" rpy="0 0 0"/>
      <inertia ixx="0.002" ixy="0" ixz="0" iyy="0.002" iyz="0" izz="0.001"/>
    </inertial>
  </link>

  <!-- Joint 5: F4 to F5 (Revolute, y4-axis rotation) -->
  <joint name="joint5" type="revolute">
    <parent link="link4"/>
    <child link="link5"/>
    <origin xyz="0 0 0.08878" rpy="0 0 0"/>
    <axis xyz="0 1 0"/>
    <limit lower="-2.879" upper="2.879" effort="50" velocity="3.14"/>
    <!-- J5: -165° to +165° = -2.879 to +2.879 radians -->
  </joint>

  <!-- Link 6 - F6 End Effector (d6 = 65.50mm) -->
  <link name="link6">
    <visual>
      <geometry>
        <cylinder length="0.0655" radius="0.0275"/>
      </geometry>
      <origin xyz="0 0 0.03275" rpy="0 0 0"/>
      <material name="light_blue">
        <color rgba="0.85 0.90 0.95 1"/>
      </material>
    </visual>
    <collision>
      <geometry>
        <cylinder length="0.0655" radius="0.0275"/>
      </geometry>
      <origin xyz="0 0 0.03275" rpy="0 0 0"/>
    </collision>
    <inertial>
      <mass value="0.15"/>
      <origin xyz="0 0 0.03275" rpy="0 0 0"/>
      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.0008"/>
    </inertial>
  </link>

  <!-- Joint 6: F5 to F6 (Revolute, z5-axis rotation) -->
  <joint name="joint6" type="revolute">
    <parent link="link5"/>
    <child link="link6"/>
    <origin xyz="0 0 0.095" rpy="0 0 0"/>
    <axis xyz="0 0 1"/>
    <limit lower="-3.054" upper="3.054" effort="25" velocity="3.14"/>
    <!-- J6: -175° to +175° = -3.054 to +3.054 radians -->
  </joint>

</robot>